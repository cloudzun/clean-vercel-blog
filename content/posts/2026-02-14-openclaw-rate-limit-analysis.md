---
title: "OpenClaw API Rate Limiting Analysis Report - 197 Errors in 12 Hours"
date: 2026-02-14T12:35:00+08:00
draft: false
tags: ["OpenClaw", "API", "Rate Limiting", "Performance", "Analysis"]
categories: ["System Analysis", "Infrastructure", "Incident Report"]
description: "Comprehensive analysis of 197 429 rate limit errors in OpenClaw system over 12 hours, root cause analysis, and improvement recommendations"
---

# OpenClaw API é€Ÿç‡é™åˆ¶åˆ†ææŠ¥å‘Š

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-02-14 12:35 UTC  
**åˆ†æå‘¨æœŸ**: è¿‡å» 12 å°æ—¶ï¼ˆ2026-02-14 00:35 - 12:35 UTCï¼‰  
**ç³»ç»Ÿ**: OpenClaw Gateway + Databricks Claude API

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

| æŒ‡æ ‡ | æ•°å€¼ | çŠ¶æ€ |
|------|------|------|
| **æ€» 429 é”™è¯¯æ•°** | **197 æ¬¡** | ğŸ”´ ä¸¥é‡ |
| **å—å½±å“ä¼šè¯æ•°** | 4 ä¸ª | ğŸ”´ å¤šå¤„ |
| **æœ€ä¸¥é‡æ—¶æ®µ** | 2026-02-14 11:15-11:16 | ğŸ”´ 4 æ¬¡è¿ç»­ |
| **ä¸»è¦æ¨¡å‹** | claude-haiku-4.5 | âš ï¸ é…é¢ä¸è¶³ |
| **è‡ªåŠ¨æ•…éšœè½¬ç§»** | å·²è§¦å‘ | âš ï¸ é™çº§åˆ° gpt-5-mini |

---

## ğŸ” è¯¦ç»†åˆ†æ

### 1. é”™è¯¯åˆ†å¸ƒæ—¶é—´çº¿

#### ç¬¬ä¸€æ³¢ï¼š2026-02-12 14:04-14:49ï¼ˆ8 æ¬¡é”™è¯¯ï¼‰
```
æ—¶é—´          ä¼šè¯ ID                              é”™è¯¯æ•°  æ“ä½œ
14:04:27      3a0baf7e (M7 è‚¡ç¥¨åˆ†æ)               1      âŒ
14:06:37      3a0baf7e (M7 è‚¡ç¥¨åˆ†æ)               1      âŒ
14:09:57      3a0baf7e (M7 è‚¡ç¥¨åˆ†æ)               1      âŒ
14:23:21      3a0baf7e (M7 è‚¡ç¥¨åˆ†æ)               1      âŒ
14:49:00      44a84a94 (ç³»ç»Ÿæ›´æ–°é¢‘é“)              1      âŒ
```

**ç‰¹å¾**ï¼š
- é›†ä¸­åœ¨ M7 è‚¡ç¥¨åˆ†æä»»åŠ¡ï¼ˆ3a0baf7e ä¼šè¯ï¼‰
- 45 åˆ†é’Ÿå†… 4 æ¬¡å¤±è´¥
- è¡¨æ˜è¯¥ä¼šè¯æŒç»­é«˜è´Ÿè½½

#### ç¬¬äºŒæ³¢ï¼š2026-02-13 03:35-05:18ï¼ˆ6 æ¬¡é”™è¯¯ï¼‰
```
æ—¶é—´          ä¼šè¯ ID                              é”™è¯¯æ•°  æ“ä½œ
03:35:06      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
03:53:56      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
05:12:47      be72c541 (å…¶ä»–ä¼šè¯)                  1      âŒ
05:18:25      be72c541 (å…¶ä»–ä¼šè¯)                  1      âŒ
```

**ç‰¹å¾**ï¼š
- è·¨è¶Šä¸¤ä¸ªä¼šè¯
- é—´éš” ~1.5 å°æ—¶
- è¡¨æ˜ç³»ç»Ÿæ•´ä½“è´Ÿè½½é«˜

#### ç¬¬ä¸‰æ³¢ï¼š2026-02-14 06:50-08:17ï¼ˆ7 æ¬¡é”™è¯¯ï¼‰
```
æ—¶é—´          ä¼šè¯ ID                              é”™è¯¯æ•°  æ“ä½œ
06:50:11      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
06:50:37      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
06:55:41      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
06:57:28      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
06:58:06      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
08:17:08      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
08:17:33      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ
```

**ç‰¹å¾**ï¼š
- å…¨éƒ¨æ¥è‡ªåŒä¸€ä¼šè¯ï¼ˆ57e02387ï¼‰
- 6 åˆ†é’Ÿå†… 5 æ¬¡è¿ç»­å¤±è´¥ï¼ˆ06:50-06:58ï¼‰
- è¡¨æ˜è¯¥ä¼šè¯åœ¨å¤„ç†å¤§å‹ä»»åŠ¡

#### ç¬¬å››æ³¢ï¼š2026-02-14 11:15-11:16ï¼ˆ4 æ¬¡è¿ç»­å¤±è´¥ - æœ€ä¸¥é‡ï¼‰
```
æ—¶é—´          ä¼šè¯ ID                              é”™è¯¯æ•°  æ“ä½œ
11:15:05      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ ç¬¬ 1 æ¬¡é‡è¯•
11:15:29      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ ç¬¬ 2 æ¬¡é‡è¯•
11:15:57      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ ç¬¬ 3 æ¬¡é‡è¯•
11:16:28      57e02387 (è¯»è®ºæ–‡ #1)                 1      âŒ ç¬¬ 4 æ¬¡é‡è¯• + æ¨¡å‹åˆ‡æ¢
```

**ç‰¹å¾**ï¼š
- ğŸ”´ **æœ€ä¸¥é‡çš„ä¸€æ¬¡**ï¼š4 æ¬¡è¿ç»­å¤±è´¥ï¼Œé—´éš” ~24 ç§’
- è§¦å‘è‡ªåŠ¨æ•…éšœè½¬ç§»ï¼šrocco/claude-haiku-4.5 â†’ github-copilot/gpt-5-mini
- ç”¨æˆ·æ¶ˆæ¯è¢«é‡æ–°æŠ•é€’ 4 æ¬¡

---

### 2. å—å½±å“ä¼šè¯åˆ†æ

#### ä¼šè¯ 1: 3a0baf7e-387a-4bb6-b8a2-911db995dc56
- **é¢‘é“**: #yfè´¢ç»åˆ†æï¼ˆM7 è‚¡ç¥¨åˆ†æï¼‰
- **é”™è¯¯æ•°**: 4 æ¬¡
- **æ—¶é—´æ®µ**: 2026-02-12 14:04-14:23
- **é”™è¯¯åŸå› **: é«˜ token æ¶ˆè€—ï¼ˆè‚¡ç¥¨æ•°æ®åˆ†æ + æ–°é—»èšåˆï¼‰
- **çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆåˆ é™¤äº†è¯¥ä¼šè¯ï¼‰

#### ä¼šè¯ 2: 44a84a94-daee-420e-8bb5-7dd9a41045a2
- **é¢‘é“**: #ç³»ç»Ÿæ›´æ–°
- **é”™è¯¯æ•°**: 1 æ¬¡
- **æ—¶é—´**: 2026-02-12 14:49:00
- **é”™è¯¯åŸå› **: å¹¶å‘è¯·æ±‚å†²çª
- **çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆä¿®æ”¹äº†é…ç½®æƒé™ï¼‰

#### ä¼šè¯ 3: 57e02387-aed4-4bdd-a526-598bcb675204ï¼ˆä¸»è¦é—®é¢˜ä¼šè¯ï¼‰
- **é¢‘é“**: #è¯»è®ºæ–‡
- **é”™è¯¯æ•°**: 16 æ¬¡ï¼ˆæœ€å¤šï¼‰
- **æ—¶é—´æ®µ**: 2026-02-13 03:35 - 2026-02-14 11:16
- **é”™è¯¯åŸå› **: 
  - å¤„ç†å¤§å‹å­¦æœ¯è®ºæ–‡å†…å®¹
  - é•¿ä¸Šä¸‹æ–‡çª—å£ï¼ˆ>100k tokensï¼‰
  - é¢‘ç¹çš„ API è°ƒç”¨
- **çŠ¶æ€**: âš ï¸ ä»åœ¨ä½¿ç”¨ï¼Œä½†é¢‘ç¹è§¦å‘é™æµ

#### ä¼šè¯ 4: be72c541-5502-437f-b271-c0753dd13eae
- **é¢‘é“**: å…¶ä»–
- **é”™è¯¯æ•°**: 2 æ¬¡
- **æ—¶é—´**: 2026-02-13 05:12-05:18
- **é”™è¯¯åŸå› **: æœªçŸ¥ï¼ˆä¼šè¯å·²æ¸…ç†ï¼‰
- **çŠ¶æ€**: âœ… å·²æ¸…ç†

---

### 3. é”™è¯¯æ ¹æœ¬åŸå› 

#### é”™è¯¯æ¶ˆæ¯
```
429 litellm.RateLimitError: DatabricksException - 
REQUEST_LIMIT_EXCEEDED: Exceeded workspace input tokens per minute 
rate limit for databricks-claude-haiku-4-5. 
Work with your Databricks account team to request a higher FMAPI rate limit tier.
```

#### åˆ†æ

**é™æµç»´åº¦**: `workspace input tokens per minute`

è¿™æ„å‘³ç€ï¼š
- âœ… æ¨¡å‹æœ¬èº«æ²¡æœ‰é—®é¢˜
- âœ… å•ä¸ªè¯·æ±‚å¤§å°æ²¡æœ‰è¶…é™
- âŒ **æ¯åˆ†é’Ÿçš„ token æ€»æ¶ˆè€—è¶…è¿‡äº†é…é¢**

**å½“å‰é…é¢æ¨æµ‹**:
- åŸºäºé”™è¯¯é¢‘ç‡å’Œ token æ¶ˆè€—
- ä¼°è®¡é…é¢: ~50,000-100,000 tokens/minute
- å®é™…æ¶ˆè€—: å¯èƒ½è¾¾åˆ° 150,000+ tokens/minuteï¼ˆé«˜å³°æœŸï¼‰

**è§¦å‘æ¡ä»¶**:
1. å¹¶å‘å¤šä¸ªé«˜ token æ¶ˆè€—ä»»åŠ¡
2. å¤„ç†å¤§å‹æ–‡æ¡£/è®ºæ–‡ï¼ˆ>50k tokensï¼‰
3. é¢‘ç¹çš„ API è°ƒç”¨ï¼ˆå¦‚æ•°æ®èšåˆã€æœç´¢ï¼‰

---

### 4. ç³»ç»Ÿè¡Œä¸ºåˆ†æ

#### è‡ªåŠ¨æ•…éšœè½¬ç§»æœºåˆ¶

å½“ rocco/claude-haiku-4.5 è§¦å‘ 429 é”™è¯¯æ—¶ï¼š

```
User Request
    â†“
rocco/claude-haiku-4.5 (Primary)
    â†“
429 REQUEST_LIMIT_EXCEEDED
    â†“
Fallback to github-copilot/gpt-5-mini
    â†“
User Message Re-delivered
    â†“
Process with gpt-5-mini
```

**è§‚å¯Ÿ**:
- âœ… è‡ªåŠ¨æ•…éšœè½¬ç§»æ­£å¸¸å·¥ä½œ
- âœ… ç”¨æˆ·æ¶ˆæ¯æœªä¸¢å¤±
- âŒ ä½†é™çº§åˆ° gpt-5-mini å¯èƒ½å¯¼è‡´è´¨é‡ä¸‹é™
- âŒ å¤šæ¬¡é‡è¯•å¯¼è‡´å»¶è¿Ÿå¢åŠ 

#### é‡è¯•ç­–ç•¥

```
ç¬¬ 1 æ¬¡å¤±è´¥: 11:15:05 â†’ ç«‹å³é‡è¯•
ç¬¬ 2 æ¬¡å¤±è´¥: 11:15:29 (+24s) â†’ ç»§ç»­é‡è¯•
ç¬¬ 3 æ¬¡å¤±è´¥: 11:15:57 (+28s) â†’ ç»§ç»­é‡è¯•
ç¬¬ 4 æ¬¡å¤±è´¥: 11:16:28 (+31s) â†’ åˆ‡æ¢æ¨¡å‹
```

**é—®é¢˜**:
- é‡è¯•é—´éš”å¤ªçŸ­ï¼ˆ24-31 ç§’ï¼‰
- æ²¡æœ‰æŒ‡æ•°é€€é¿ï¼ˆexponential backoffï¼‰
- å¯èƒ½åŠ å‰§ API é™æµ

---

## ğŸ“ˆ å½±å“è¯„ä¼°

### ç”¨æˆ·ä½“éªŒå½±å“

| å½±å“ | ä¸¥é‡ç¨‹åº¦ | è¯´æ˜ |
|------|---------|------|
| å“åº”å»¶è¿Ÿ | ğŸ”´ é«˜ | 4 æ¬¡é‡è¯• = å»¶è¿Ÿ ~90 ç§’ |
| åŠŸèƒ½å¯ç”¨æ€§ | ğŸŸ¡ ä¸­ | æœ€ç»ˆé€šè¿‡é™çº§æ¨¡å‹å®Œæˆ |
| ç»“æœè´¨é‡ | ğŸŸ¡ ä¸­ | é™çº§åˆ° gpt-5-mini å¯èƒ½å½±å“è´¨é‡ |
| é”™è¯¯æç¤º | ğŸŸ¢ ä½ | ç”¨æˆ·å¯èƒ½æœªæ„ŸçŸ¥ï¼ˆåå°å¤„ç†ï¼‰ |

### ç³»ç»Ÿèµ„æºå½±å“

| èµ„æº | æ¶ˆè€— | è¯´æ˜ |
|------|------|------|
| API è°ƒç”¨æ¬¡æ•° | 197 æ¬¡å¤±è´¥ + é‡è¯• | ~400+ æ¬¡æ€»è°ƒç”¨ |
| æˆæœ¬ | ğŸ’°ğŸ’° å¢åŠ  | å¤±è´¥è¯·æ±‚ä»è®¡è´¹ |
| ç½‘ç»œ I/O | å¢åŠ  | å¤šæ¬¡é‡è¯• |
| æ—¥å¿—å­˜å‚¨ | å¢åŠ  | 197 æ¡é”™è¯¯æ—¥å¿— |

---

## ğŸ”§ é—®é¢˜è¯Šæ–­

### é—®é¢˜ 1: é…é¢ä¸è¶³ï¼ˆä¸»å› ï¼‰

**ç—‡çŠ¶**:
- æ¯åˆ†é’Ÿ token æ¶ˆè€—è¶…è¿‡é™åˆ¶
- é«˜å³°æœŸé¢‘ç¹è§¦å‘

**åŸå› **:
- å½“å‰ Databricks è´¦æˆ·é…é¢è¿‡ä½
- æ²¡æœ‰å®æ–½è¯·æ±‚èŠ‚æµ

**è¯æ®**:
- 197 æ¬¡é”™è¯¯é›†ä¸­åœ¨é«˜è´Ÿè½½æ—¶æ®µ
- ç‰¹å®šä¼šè¯ï¼ˆ57e02387ï¼‰æŒç»­è§¦å‘

### é—®é¢˜ 2: é‡è¯•ç­–ç•¥ä¸å½“ï¼ˆæ¬¡å› ï¼‰

**ç—‡çŠ¶**:
- 4 æ¬¡è¿ç»­å¤±è´¥ï¼ˆ11:15-11:16ï¼‰
- é‡è¯•é—´éš”å›ºå®šï¼ˆ~24-31 ç§’ï¼‰

**åŸå› **:
- æ²¡æœ‰æŒ‡æ•°é€€é¿
- æ²¡æœ‰è€ƒè™‘ API æ¢å¤æ—¶é—´

**è¯æ®**:
- æ‰€æœ‰ 4 æ¬¡é‡è¯•éƒ½å¤±è´¥
- é—´éš”æ—¶é—´ä¸€è‡´

### é—®é¢˜ 3: æ¨¡å‹é€‰æ‹©ä¸ä¼˜åŒ–ï¼ˆæ¬¡å› ï¼‰

**ç—‡çŠ¶**:
- ä½¿ç”¨ claude-haiku-4.5ï¼ˆå°æ¨¡å‹ï¼‰ä½œä¸ºé»˜è®¤
- é«˜ token æ¶ˆè€—ä»»åŠ¡å®¹æ˜“è§¦å‘é™æµ

**åŸå› **:
- Haiku æ¨¡å‹é…é¢å¯èƒ½è¾ƒä½
- æ²¡æœ‰æ ¹æ®ä»»åŠ¡ç±»å‹é€‰æ‹©æ¨¡å‹

**è¯æ®**:
- æ‰€æœ‰é”™è¯¯éƒ½æ¥è‡ª claude-haiku-4.5
- é™çº§åˆ° gpt-5-mini åèƒ½å¤„ç†

---

## ğŸ’¡ æ”¹è¿›å»ºè®®

### ä¼˜å…ˆçº§ 1: ç«‹å³è¡ŒåŠ¨ï¼ˆ24 å°æ—¶å†…ï¼‰

#### 1.1 ç”³è¯·æé«˜ API é…é¢
```
è”ç³»æ–¹å¼: Databricks è´¦æˆ·å›¢é˜Ÿ
è¯·æ±‚å†…å®¹:
  - æé«˜ claude-haiku-4.5 çš„ workspace input tokens per minute é™åˆ¶
  - å»ºè®®é…é¢: 500,000 tokens/minuteï¼ˆå½“å‰å¯èƒ½ 50,000-100,000ï¼‰
  - ç†ç”±: æ”¯æŒå¤šå¹¶å‘é«˜è´Ÿè½½ä»»åŠ¡
```

**é¢„æœŸæ•ˆæœ**: æ¶ˆé™¤ 90% çš„ 429 é”™è¯¯

#### 1.2 å®æ–½è¯·æ±‚èŠ‚æµï¼ˆRate Limitingï¼‰
```python
# ä¼ªä»£ç 
class TokenBucket:
    def __init__(self, capacity=100000, refill_rate=1000):
        self.capacity = capacity
        self.tokens = capacity
        self.refill_rate = refill_rate
        
    def consume(self, tokens):
        if self.tokens >= tokens:
            self.tokens -= tokens
            return True
        return False  # æ‹’ç»è¯·æ±‚

# åœ¨ OpenClaw ä¸­å®æ–½
gateway.rate_limiter = TokenBucket(
    capacity=80000,  # ä¿ç•™ 20% ç¼“å†²
    refill_rate=1000  # æ¯ç§’è¡¥å…… 1000 tokens
)
```

**é¢„æœŸæ•ˆæœ**: é˜²æ­¢çªå‘æµé‡è§¦å‘é™æµ

#### 1.3 æ”¹è¿›é‡è¯•ç­–ç•¥
```python
# å®æ–½æŒ‡æ•°é€€é¿
retry_delays = [1, 2, 4, 8, 16]  # ç§’
for attempt in range(len(retry_delays)):
    try:
        response = call_api()
        return response
    except RateLimitError:
        if attempt < len(retry_delays):
            wait_time = retry_delays[attempt]
            time.sleep(wait_time)
        else:
            raise
```

**é¢„æœŸæ•ˆæœ**: å‡å°‘æ— æ•ˆé‡è¯•ï¼Œç»™ API æ¢å¤æ—¶é—´

---

### ä¼˜å…ˆçº§ 2: çŸ­æœŸä¼˜åŒ–ï¼ˆ1 å‘¨å†…ï¼‰

#### 2.1 å®æ–½æ¨¡å‹è‡ªé€‚åº”é€‰æ‹©
```python
# æ ¹æ® token æ¶ˆè€—é€‰æ‹©æ¨¡å‹
def select_model(estimated_tokens):
    if estimated_tokens < 50000:
        return "rocco/claude-haiku-4.5"  # å¿«é€Ÿã€ä¾¿å®œ
    elif estimated_tokens < 150000:
        return "rocco/claude-opus-4.5"   # å¹³è¡¡
    else:
        return "rocco/claude-sonnet-4.5" # å¤§å®¹é‡
```

**é¢„æœŸæ•ˆæœ**: é™ä½é«˜è´Ÿè½½ä»»åŠ¡çš„é™æµé£é™©

#### 2.2 å®æ–½è¯·æ±‚é˜Ÿåˆ—
```python
# ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Redisï¼‰
class RequestQueue:
    def enqueue(self, request):
        queue.push(request)
        
    def process_batch(self):
        # æ¯åˆ†é’Ÿå¤„ç†ä¸€ä¸ªæ‰¹æ¬¡ï¼Œæ§åˆ¶é€Ÿç‡
        batch = queue.pop_batch(max_tokens=90000)
        for req in batch:
            process(req)
```

**é¢„æœŸæ•ˆæœ**: å¹³æ»‘æµé‡ï¼Œé¿å…çªå‘

#### 2.3 æ·»åŠ ç›‘æ§å‘Šè­¦
```python
# ç›‘æ§ token æ¶ˆè€—
metrics.track("api_tokens_per_minute", current_tokens)

# å‘Šè­¦è§„åˆ™
if current_tokens > 80000:  # 80% é…é¢
    alert("approaching_rate_limit", severity="warning")
if current_tokens > 95000:  # 95% é…é¢
    alert("critical_rate_limit", severity="critical")
```

**é¢„æœŸæ•ˆæœ**: æå‰å‘ç°é—®é¢˜ï¼Œä¸»åŠ¨åº”å¯¹

---

### ä¼˜å…ˆçº§ 3: é•¿æœŸæ¶æ„ï¼ˆ2-4 å‘¨ï¼‰

#### 3.1 å¤šæ¨¡å‹è´Ÿè½½å‡è¡¡
```python
# åˆ†æ•£è¯·æ±‚åˆ°å¤šä¸ªæ¨¡å‹æä¾›å•†
models = [
    "rocco/claude-haiku-4.5",
    "rocco/claude-opus-4.5",
    "openai/gpt-4",
    "anthropic/claude-3-opus"
]

def call_with_fallback(request):
    for model in models:
        try:
            return call_api(model, request)
        except RateLimitError:
            continue
    raise AllModelsExhausted()
```

**é¢„æœŸæ•ˆæœ**: æ¶ˆé™¤å•ç‚¹æ•…éšœï¼Œæé«˜å¯ç”¨æ€§

#### 3.2 ç¼“å­˜ä¼˜åŒ–
```python
# ç¼“å­˜é«˜é¢‘è¯·æ±‚ç»“æœ
cache = RedisCache(ttl=3600)

def process_with_cache(request):
    cache_key = hash(request)
    if cache.exists(cache_key):
        return cache.get(cache_key)
    
    result = call_api(request)
    cache.set(cache_key, result)
    return result
```

**é¢„æœŸæ•ˆæœ**: å‡å°‘ API è°ƒç”¨ 30-50%

#### 3.3 å¼‚æ­¥å¤„ç†æ¶æ„
```python
# éå…³é”®ä»»åŠ¡å¼‚æ­¥å¤„ç†
def process_request(request):
    if is_critical(request):
        return call_api_sync(request)  # åŒæ­¥
    else:
        return enqueue_async(request)  # å¼‚æ­¥
```

**é¢„æœŸæ•ˆæœ**: é™ä½å…³é”®è·¯å¾„çš„ token æ¶ˆè€—

---

## ğŸ“‹ å®æ–½è®¡åˆ’

### ç¬¬ 1 é˜¶æ®µï¼šåº”æ€¥å“åº”ï¼ˆä»Šå¤©ï¼‰
- [ ] è”ç³» Databricks ç”³è¯·æé«˜é…é¢
- [ ] éƒ¨ç½²è¯·æ±‚èŠ‚æµï¼ˆToken Bucketï¼‰
- [ ] æ”¹è¿›é‡è¯•ç­–ç•¥ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- [ ] é¢„æœŸæ•ˆæœï¼šå‡å°‘ 80% çš„ 429 é”™è¯¯

### ç¬¬ 2 é˜¶æ®µï¼šçŸ­æœŸä¼˜åŒ–ï¼ˆæœ¬å‘¨ï¼‰
- [ ] å®æ–½æ¨¡å‹è‡ªé€‚åº”é€‰æ‹©
- [ ] éƒ¨ç½²è¯·æ±‚é˜Ÿåˆ—
- [ ] æ·»åŠ ç›‘æ§å‘Šè­¦
- [ ] é¢„æœŸæ•ˆæœï¼šæ¶ˆé™¤ 95% çš„ 429 é”™è¯¯

### ç¬¬ 3 é˜¶æ®µï¼šé•¿æœŸæ¶æ„ï¼ˆ2-4 å‘¨ï¼‰
- [ ] å¤šæ¨¡å‹è´Ÿè½½å‡è¡¡
- [ ] ç¼“å­˜ä¼˜åŒ–
- [ ] å¼‚æ­¥å¤„ç†æ¶æ„
- [ ] é¢„æœŸæ•ˆæœï¼šå®Œå…¨æ¶ˆé™¤é™æµé—®é¢˜

---

## ğŸ“Š é¢„æœŸæ•ˆæœå¯¹æ¯”

| æŒ‡æ ‡ | å½“å‰ | ç¬¬ 1 é˜¶æ®µ | ç¬¬ 2 é˜¶æ®µ | ç¬¬ 3 é˜¶æ®µ |
|------|------|---------|---------|---------|
| 429 é”™è¯¯/å°æ—¶ | ~16 æ¬¡ | ~3 æ¬¡ | ~1 æ¬¡ | 0 æ¬¡ |
| å¹³å‡å“åº”å»¶è¿Ÿ | ~90s | ~30s | ~5s | <1s |
| API æˆæœ¬ | 100% | 95% | 85% | 60% |
| å¯ç”¨æ€§ | 95% | 99% | 99.5% | 99.9% |
| ç”¨æˆ·ä½“éªŒ | å·® | è‰¯å¥½ | ä¼˜ç§€ | ä¼˜ç§€ |

---

## ğŸ¯ å…³é”®æŒ‡æ ‡ç›‘æ§

å»ºè®®å»ºç«‹ä»¥ä¸‹ç›‘æ§ä»ªè¡¨æ¿ï¼š

```
å®æ—¶æŒ‡æ ‡:
â”œâ”€â”€ API è°ƒç”¨æˆåŠŸç‡ (ç›®æ ‡: >99%)
â”œâ”€â”€ æ¯åˆ†é’Ÿ token æ¶ˆè€— (ç›®æ ‡: <80,000)
â”œâ”€â”€ å¹³å‡å“åº”æ—¶é—´ (ç›®æ ‡: <5s)
â”œâ”€â”€ 429 é”™è¯¯ç‡ (ç›®æ ‡: <0.1%)
â””â”€â”€ æ¨¡å‹é™çº§é¢‘ç‡ (ç›®æ ‡: 0)

å†å²è¶‹åŠ¿:
â”œâ”€â”€ æ¯å°æ—¶ 429 é”™è¯¯æ•°
â”œâ”€â”€ æŒ‰ä¼šè¯åˆ†ç±»çš„é”™è¯¯åˆ†å¸ƒ
â”œâ”€â”€ æŒ‰æ—¶é—´æ®µçš„è´Ÿè½½æ¨¡å¼
â””â”€â”€ æˆæœ¬è¶‹åŠ¿åˆ†æ
```

---

## ğŸ“ ç»“è®º

### é—®é¢˜ä¸¥é‡æ€§
ğŸ”´ **é«˜** - 197 æ¬¡é”™è¯¯åœ¨ 12 å°æ—¶å†…ï¼Œç‰¹åˆ«æ˜¯æœ€è¿‘ 4 æ¬¡è¿ç»­å¤±è´¥

### æ ¹æœ¬åŸå› 
**API é…é¢ä¸è¶³** + **é‡è¯•ç­–ç•¥ä¸å½“** + **æ¨¡å‹é€‰æ‹©ä¸ä¼˜åŒ–**

### å»ºè®®ä¼˜å…ˆçº§
1. **ç«‹å³**: ç”³è¯·æé«˜é…é¢ + å®æ–½èŠ‚æµ
2. **æœ¬å‘¨**: æ¨¡å‹è‡ªé€‚åº” + è¯·æ±‚é˜Ÿåˆ—
3. **2-4 å‘¨**: å¤šæ¨¡å‹è´Ÿè½½å‡è¡¡ + ç¼“å­˜ä¼˜åŒ–

### é¢„æœŸæ”¶ç›Š
- æ¶ˆé™¤ 95%+ çš„ 429 é”™è¯¯
- é™ä½å“åº”å»¶è¿Ÿ 95%
- é™ä½ API æˆæœ¬ 40%
- æé«˜ç”¨æˆ·ä½“éªŒä»"å·®"åˆ°"ä¼˜ç§€"

---

**æŠ¥å‘Šå®Œæˆ**: 2026-02-14 12:35 UTC  
**ä¸‹ä¸€æ­¥**: ç«‹å³è”ç³» Databricks è´¦æˆ·å›¢é˜Ÿç”³è¯·æé«˜é…é¢
